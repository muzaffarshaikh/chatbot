<!DOCTYPE html>
<html>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
<style>
  .card-body{
    background-color: #f0fae1;
   } 
  .input-group{
    width: 450px;
    align-content:center;
    padding-right: 15px;
  }
  .card-header{
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    width: 32%;
    margin-left: 30%;
    margin-top: 0px; 
    background-color:#e9ecef; 
    border-radius: 5px;
  }
  .card-body{
    justify-content: center;
    align-items: center;
    width:32%;
    margin-left: 30%;
    background-color: #f0fae1;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    border-radius: 5px;
  }
  .material-icons {
   display: inline-flex;
   vertical-align: middle;
}
.is-invalid {
  border-left: solid 6px red;
}
</style>
<body>
<h3 class="card-header">Reset Password</h3>
<div class="card-body">
    <form  [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label [ngClass]="resetform.controls['password'].invalid ? 'text-danger' : ''">Password:</label>
            <div class="input-group mx-sm-1 mb-3" >
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fa fa-unlock-alt"></i></span>
                </div>
                
                <input id="password" formControlName="password"  [type]="fieldTextType ? 'text' : 'password'" class="form-control" [ngClass]="resetform.controls['password'].invalid ? 'is-invalid' : ''">
                <div class="input-group-append">
                   
                    <span class="input-group-text">
                    <i class="fa"
                    [ngClass]="{
                      'fa-eye-slash': !fieldTextType,
                      'fa-eye': fieldTextType
                    }"
                    (click)="toggleFieldTextType()"
                  ></i>
                </span>
                  </div>  
            </div>
            <label class="col" style="font-size:13px;" [ngClass]="resetform.controls['password'].hasError('required') || resetform.controls['password'].hasError('minlength')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">{{ resetform.controls['password'].hasError('required') ||
                resetform.controls['password'].hasError('minlength') ? 'cancel' :
                'check_circle' }}</i>
              Must be at least 8 characters!
            </label>
        <br>
            <label class="col" style="font-size:13px;" [ngClass]="resetform.controls['password'].hasError('required') || resetform.controls['password'].hasError('hasNumber')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">{{ resetform.controls['password'].hasError('required') ||
                resetform.controls['password'].hasError('hasNumber') ? 'cancel' :
                'check_circle' }}</i>
              Must contain at least 1 number!
            </label>
            <label class="col" style="font-size:13px;" [ngClass]="resetform.controls['password'].hasError('required') || resetform.controls['password'].hasError('hasCapitalCase')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">{{ resetform.controls['password'].hasError('required') ||
                resetform.controls['password'].hasError('hasCapitalCase') ? 'cancel' :
                'check_circle' }}</i>
              Must contain at least 1 in Capital Case!
            </label>
            <label class="col" style="font-size:13px;" [ngClass]="resetform.controls['password'].hasError('required') || resetform.controls['password'].hasError('hasSmallCase')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">{{ resetform.controls['password'].hasError('required') ||
                resetform.controls['password'].hasError('hasSmallCase') ? 'cancel' :
                'check_circle' }}</i>
              Must contain at least 1 Letter in Small Case!
            </label>
            <label class="col" style="font-size:13px;" [ngClass]="resetform.controls['password'].hasError('required') || resetform.controls['password'].hasError('hasSpecialCharacters') ? 'text-danger' : 'text-success'">
              <i class="material-icons">{{ resetform.controls['password'].hasError('required') ||
                resetform.controls['password'].hasError('hasSpecialCharacters') ? 'cancel' :
                'check_circle' }}</i>
              Must contain at least 1 Special Character!
            </label>
        </div>
        <div class="form-group">
            <label [ngClass]="resetform.controls['confirmPassword'].invalid ? 'text-danger' : ''">Confirm Password:</label>
            <div class="input-group mx-sm-1 mb-3" >
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fa fa-lock" aria-hidden="true"></i></span>
                </div>
                <input  [type]="repeatFieldTextType ? 'text' : 'password'" placeholder="Confirm Password" formControlName="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" />
                <div class="input-group-append">
                  <span class="input-group-text">
                  <i class="fa"
                  [ngClass]="{
                    'fa-eye-slash': !repeatFieldTextType,
                    'fa-eye': repeatFieldTextType
                  }"
                  (click)="toggleRepeatFieldTextType()"
                ></i>
              </span>
                </div> 
                <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
                    <div *ngIf="f.confirmPassword.errors.required">Password confirmation is required</div>
                    <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <button [disabled]="loading" class="btn btn-primary">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Reset 
            </button>
            <a routerLink="../login" class="btn btn-link">Cancel</a>
        </div> 
    </form>
</div>
</body>
</html>
   
